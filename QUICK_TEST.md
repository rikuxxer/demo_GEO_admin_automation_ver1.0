# Google Sheets 出力テスト - クイックリファレンス

最速でテストを開始するための手順です。

---

## 🚀 3ステップでテスト開始

### ステップ1: .env ファイルを作成（1分）

プロジェクトルートに `.env` ファイルを作成：

```powershell
# env.exampleをコピー（ファイルがない場合）
Copy-Item env.example .env

# または手動で作成
notepad .env
```

以下を記述：

```env
VITE_GOOGLE_SPREADSHEET_ID=あなたのスプレッドシートID
VITE_GOOGLE_SHEETS_API_KEY=あなたのAPIキー
```

---

### ステップ2: スプレッドシートを準備（1分）

1. [Google Sheets](https://sheets.google.com/) で新しいスプレッドシートを作成

2. シート名を「**シート1**」に変更

3. 「共有」→「リンクを知っている全員（編集者）」に設定

4. URLからスプレッドシートIDをコピーして`.env`に貼り付け
   ```
   https://docs.google.com/spreadsheets/d/【ここ】/edit
   ```

---

### ステップ3: テスト実行（3分）

```powershell
# 開発サーバーを再起動
# Ctrl+C で停止 → 再起動
npm run dev
```

1. **営業アカウントでログイン**
   ```
   Email: salesA@example.com
   Password: demo123
   ```

2. **データ管理からデモデータを投入**
   - サイドバー → 「データ管理」
   - 「デモデータを投入」をクリック

3. **案件詳細を開く**
   - 案件一覧 → 「PRJ-DEMO-001」をクリック

4. **地点格納依頼を実行**
   - 「地点情報」タブ
   - 「TG地点」タブ
   - セグメント名をクリックして展開
   - 「地点格納依頼」ボタンをクリック

5. **スプレッドシートを確認**
   - データが追加されていればOK！

---

## 🔍 コンソールで確認

開発者ツール（F12）→ Console タブ

**成功時:**
```
✅ Google Sheets に追加成功
```

**失敗時:**
```
❌ Google Sheets API エラー
```

---

## ⚠️ よくあるエラー

### 「環境変数が設定されていません」

→ 開発サーバーを**再起動**してください

### 「403 Forbidden」

→ スプレッドシートの共有設定を確認
   「リンクを知っている全員（編集者）」

### 「TG地点が存在しないため出力をスキップ」

→ **営業アカウント**でログインしているか確認
   管理者アカウントでは出力されません

---

## 📊 期待される結果

スプレッドシートに以下のようなデータが追加されます：

| 半径 | brand_name | poi_id | poi_name | latitude | longitude |
|------|------------|--------|----------|----------|-----------|
| 500m | 株式会社サンプル | 1 | 東京駅 | 35.681 | 139.767 |
| 500m | 株式会社サンプル | 2 | 新宿駅 | 35.689 | 139.700 |

---

## 📚 詳細情報

- 詳細なセットアップ手順: [GOOGLE_SHEETS_SETUP.md](./GOOGLE_SHEETS_SETUP.md)
- 詳細なテスト手順: [TEST_SHEETS_OUTPUT.md](./TEST_SHEETS_OUTPUT.md)
- トラブルシューティング: [TEST_SHEETS_OUTPUT.md](./TEST_SHEETS_OUTPUT.md#トラブルシューティング)





